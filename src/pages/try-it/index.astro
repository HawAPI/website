---
import BackgroundEffect from '@components/core/BackgroundEffect.astro';
import Button from '@components/core/Button.astro';
import Layout from '@components/layouts/Layout.astro';
import { Icon } from 'astro-icon';
---

<Layout title="Try it">
  <main>
    <BackgroundEffect />

    <dialog class="dg" id="result-dialog">
      <span class="dg-header">
        <span class="dg-title-container">
          <h1 class="dg-title">Result</h1>
          <p class="dg-sub-title"></p>
        </span>

        <button class="dg-btn-close">
          <Icon
            name="mdi:close"
            height="30px"
            width="30px"
            class="dg-icon-close"
          />
        </button>
      </span>
      <json-viewer class="pre-result"></json-viewer>
    </dialog>

    <h1 class="sw-effect-title try-h1">Try it now!</h1>

    <div class="input-box">
      <div class="input-url">
        <span class="n-input-url">https://hawapi.theproject.id/api/v1/</span>
        <span class="m-input-url">hawapi[...]/api/v1/</span>
      </div>
      <input type="text" id="input" />
    </div>

    <p class="try-sub">Lost? See the <a href="/docs/">Documentation</a></p>

    <div class="options">
      <Button name="Search" classes={['try-btn', 'try-btn-1']} id="search" />
      <Button name="Copy" classes={['try-btn', 'try-btn-2']} id="copy" />
      <Button name="Clear" classes={['try-btn', 'try-btn-3']} id="clear" />
    </div>
  </main>
</Layout>

<style>
  json-viewer {
    --background-color: var(--primary-color);

    --font-size: 1rem;

    /* Types colors */
    --string-color: #a0eed7;
    --number-color: #d19a66;
    --boolean-color: #4ba7ef;
    --null-color: #df9cf3;
    --property-color: #fff;

    /* Collapsed node preview */
    --preview-color: rgba(222, 175, 143, 0.9);
  }

  .key {
    margin: 0 0.3rem !important;
  }

  .dg {
    height: 45em;
    width: 45rem;
    border-radius: 20px;
    padding: 2rem;
    box-sizing: border-box;
    background-color: var(--primary-color);
    color: white;
    border: none;
  }

  .dg-header {
    height: 4rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .dg-title-container {
    display: flex;
    flex-direction: column;
  }

  .dg-icon-close {
    height: fit-content;
    display: flex;
    align-items: center;
    color: white;
    justify-content: center;
  }

  .dg-sub-title {
    margin: 0;
    padding: 0;
  }

  .dg-btn-close {
    background-color: transparent;
    border: none;
    cursor: pointer;
  }

  .try-h1 {
    margin: 1.5rem 0;
  }

  .options {
    margin-top: 0.8rem;
    display: flex;
    gap: 2.5rem;
  }

  .input-box {
    width: 35%;
    min-width: 35%;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .try-sub {
    margin-top: 1.5rem;
  }

  .input-box:hover {
    background-color: rgba(0, 0, 0, 0.5);
    outline-color: rgb(100, 2, 2);
  }

  .input-url,
  input {
    color: white;
    border: none;
    height: 2rem;
    border-radius: 5px;
    outline: none;
    outline-color: none;
    background-color: rgba(0, 0, 0, 0.1);
    border: 1px solid var(--secondary-color);
  }

  .input-url {
    width: max-content;
    padding: 0 0 0 10px;
    border-right: 0;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    display: flex;
    align-items: center;
  }

  .m-input-url {
    display: none;
  }

  input {
    padding: 0;
    width: 100%;
    border-left: 0;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    font-size: 1em;
  }

  @media (max-width: 1200px) {
    .input-box {
      width: 55%;
    }
  }

  @media (max-width: 992px) {
    .input-box {
      width: 65%;
    }
  }

  @media (max-width: 768px) {
    .input-box {
      width: 75%;
    }
  }

  @media (max-width: 576px) {
    .input-box {
      width: 85%;
    }

    .options {
      margin-top: 0.8rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
  }

  @media (max-width: 456px) {
    .n-input-url {
      display: none;
    }

    .m-input-url {
      display: initial;
    }
  }
</style>
<script
  is:inline
  src="https://unpkg.com/@alenaksu/json-viewer@2.0.0/dist/json-viewer.bundle.js"
></script>
<script src="../../scripts/tryit.js"></script>
